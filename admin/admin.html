<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/zeze-dos-dimas/admin/admin.css">
</head>

<body>

<h1>üõ†Ô∏è PAINEL ADMIN</h1>
<p id="adminEmail"></p>

<div id="usersList"></div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script src="/zeze-dos-dimas/js/firebase.js"></script>

<script>
auth.onAuthStateChanged(async user => {
  if (!user || user.email !== "virtualinvest@gmail.com") {
    alert("Acesso negado.");
    window.location.href = "/zeze-dos-dimas/index.html";
    return;
  }

  document.getElementById("adminEmail").innerText = "Admin: " + user.email;

  const list = document.getElementById("usersList");
  const snap = await db.collection("usuarios").get();

  snap.forEach(doc => {
    const u = doc.data();
    const div = document.createElement("div");
    div.innerHTML = `
      <hr>
      <b>${u.nome}</b> (${u.email})<br>
      VIP: ${u.vip} | BAN: ${u.banido} | MOEDAS: ${u.moedas}
    `;
    list.appendChild(div);
  });
});
</script>

</body>
</html>
